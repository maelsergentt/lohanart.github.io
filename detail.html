<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="page-title"></title>
  <link rel="stylesheet" href="page.css">
</head>
<body>

    <header class="header-outer">

    <div class="header-inner responsive-wrapper">
      <div class="header-logo">
        <a href="index.html"><img src="logosvg blanc.svg" /></a>
      </div>
      <nav class="header-navigation">
            <button class="menu-button">
              <svg class="burger-icon" viewBox="0 0 100 80" width="30" height="30">
                  <rect class="burger-line top" width="100" height="10" rx="5"></rect>
                  <rect class="burger-line middle" y="30" width="100" height="10" rx="5"></rect>
                  <rect class="burger-line bottom" y="60" width="100" height="10" rx="5"></rect>
              </svg>
            </button>
            <div class="nav-links">
               <a href="index.html">Home</a>
               <a href="estampes.html">Estampes</a>
                <a href="poisson.html">Ryukin</a>
                <a href="bousier.html">Bousier</a>
                <a href="fleurs.html">Fleurs</a>
                <a href="propos.html">À propos</a>
            </div>
      </nav>
    </div>

  </header>
  <div id="produit-detail"></div>



 


  <script>

  // Fonction pour charger les données depuis le JSON
async function loadProductData() {
  try {
    const response = await fetch('produits.json');
    const data = await response.json();
    return data.produit;
  } catch (error) {
    console.error("Erreur lors du chargement du JSON :", error);
    return null;
  }
}

// Fonction pour mettre à jour le DOM avec les données du produit
function updateDOM(produit) {
  const productImages = document.querySelector('.product-images');
  const productTitle = document.querySelector('.product-title');
  const productPrice = document.querySelector('.product-price');
  const productDescription = document.querySelector('.product-description');
  const contactButton = document.querySelector('.contact-button');

  // Met à jour le titre
  productTitle.textContent = produit.nom || "";

  // Met à jour le prix
  productPrice.textContent = produit.prix || "";

  // Met à jour la description
  productDescription.textContent = produit.description || "";

  // Ajoute les images dynamiquement
  const images = [produit.image2, produit.image3, produit.image4, produit.image5];
  productImages.innerHTML = ""; // Vide le conteneur

  images.forEach(imageSrc => {
    if (imageSrc) { // Vérifie si le chemin de l'image existe
      const imageContainer = document.createElement('div');
      imageContainer.className = 'image-container';
      imageContainer.innerHTML = `<img src="${imageSrc}" alt="${produit.nom}">`;
      productImages.appendChild(imageContainer);
    }
  });

  // Masque les éléments vides
  if (!produit.nom) productTitle.style.display = 'none';
  if (!produit.prix) productPrice.style.display = 'none';
  if (!produit.description) productDescription.style.display = 'none';

  // Masque le bouton "contacter" si le titre ou le prix est vide
  if (!produit.nom || !produit.prix) {
    contactButton.style.display = 'none';
  }
}

// Charge les données et met à jour le DOM
loadProductData().then(produit => {
  if (produit) {
    updateDOM(produit);
  }
});



    // Récupère l'ID du produit depuis l'URL (ex: detail.html?id=1)
    const urlParams = new URLSearchParams(window.location.search);
    const produitId = urlParams.get('id');
    
    

    // Charge les données du produit
   fetch('produits.json')
    .then(response => response.json())
   
    .then(produits => {
        const produit = produits.find(p => p.id == produitId);
        if (produit) {
            let htmlImages = '';
            const images = ['image2', 'image3', 'image4', 'image5', 'image6', 'image7'];

            // Génère le HTML uniquement pour les images existantes
            images.forEach(imageKey => {
                if (produit[imageKey]) {
                    htmlImages += `
                        <div class="image-container">
                            <img src="${produit[imageKey]}" alt="${produit.nom}">
                        </div>
                    `;
                }
            });

            document.getElementById('produit-detail').innerHTML = `
                <div class="product-page">
                    <div class="product-images"> ${htmlImages}</div>

                    <div class="product-info">
                        <h1>${produit.nom}</h1>
                        <div class="product-price">
                          ${produit.prix} (hors prix de livraison)
                          
                          
                          </div>
                        <div class="product-description"><p>${produit.description}</p></div>

                        <a href="mailto:lohaanart@gmail.com"><button class="product-button">CONTACTER</button></a>

                        <div class="product-details">
                          <h3>Détails de l'Illustration</h3>
                          <ul>
                            <li>Technique: ${produit.technique}</li>
                            <li>${produit.nature}${produit.format}</li>
                          </ul>
                        </div>

                        
                        
            `;
        }
    });



    document.addEventListener('DOMContentLoaded', function() {
    // 1. Désactiver le clic droit sur les images
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            
        });
    });

    // 2. Désactiver le glisser-déposer sur les images
    document.querySelectorAll('img').forEach(img => {
        img.addEventListener('dragstart', function(e) {
            e.preventDefault();
        });
    });
});



      document.addEventListener('DOMContentLoaded', function() {
            const menuButton = document.querySelector('.menu-button');
            const navLinks = document.querySelector('.nav-links');

            document.querySelector('.menu-button').addEventListener('click', function() {
        this.classList.toggle('active');
        });

            menuButton.addEventListener('click', function() {
                navLinks.classList.toggle('menu-open');
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
    const imageContainer = document.querySelector('.image-container');
    const prevButton = document.getElementById('prevImage');
    const nextButton = document.getElementById('nextImage');
    const images = document.querySelectorAll('.product-images img');
    let currentIndex = 0;

    // Fonction pour naviguer entre les images
    function scrollToImage(index) {
        if (window.innerWidth <= 768) {
            // Mobile : défilement horizontal
            imageContainer.scrollTo({
                left: imageContainer.clientWidth * index,
                behavior: 'smooth'
            });
        }
        currentIndex = index;
    }

   

    // Défilement tactile sur mobile
    if (window.innerWidth <= 768) {
        let isDown = false;
        let startX;
        let scrollLeft;

        imageContainer.addEventListener('mousedown', (e) => {
            isDown = true;
            startX = e.pageX - imageContainer.offsetLeft;
            scrollLeft = imageContainer.scrollLeft;
        });

        imageContainer.addEventListener('mouseleave', () => {
            isDown = false;
        });

        imageContainer.addEventListener('mouseup', () => {
            isDown = false;
        });

        imageContainer.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault();
            const x = e.pageX - imageContainer.offsetLeft;
            const walk = (x - startX) * 2;
            imageContainer.scrollLeft = scrollLeft - walk;
        });
    }
});

  // Récupère l'URL de la page actuelle
const currentPage = window.location.pathname.split("/").pop();

// Sélectionne tous les liens du menu
const navLinks = document.querySelectorAll('nav a');

// Pour chaque lien, vérifie s'il correspond à la page actuelle
navLinks.forEach(link => {
  const linkPage = link.getAttribute('href');
  if (currentPage === linkPage) {
    link.classList.add('active');
  }
});

  </script>

   <div class="footer-basic">
     <hr class="footer-divider">
        <footer>
                <div class="logofooter">
                    <img  src="logo.svg" alt=""> 
                </div>
                <div class="social">
                   <a href="https://www.instagram.com/lohaaaaaaan?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw=="><i class="icon-social-instagram"><img class="logoinsta"  src="insta.svg" alt=""></i></a>
                    <a href="https://www.tiktok.com/@lohan3303?_t=ZN-90tbROeY55S&_r=1"><i class="icon-social-instagram"><img class="logoinsta"  src="tiktok.svg" alt=""></i></a>
                </div>
                <div class="copyright">
                    <a href="mentionslegales.html"><p >Mentions Légales</p></a>   
                    <p >Lohan Illustrateur | Tous droits réservés</p>
                </div>
           
        </footer>
</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>


</body>
</html>
